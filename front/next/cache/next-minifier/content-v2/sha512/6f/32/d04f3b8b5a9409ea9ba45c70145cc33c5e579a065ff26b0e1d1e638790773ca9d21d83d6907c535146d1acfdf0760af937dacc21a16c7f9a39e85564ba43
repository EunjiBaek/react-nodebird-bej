{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{RNiq:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"__N_SSP\",(function(){return v}));var a=n(\"q1tI\"),c=n.n(a),i=n(\"/MKj\"),o=n(\"1zst\"),r=n(\"ODXe\"),l=n(\"Vl3Y\"),u=n(\"5rEg\"),s=n(\"2/Rp\"),d=n(\"p+NB\"),f=n(\"HlrF\"),p=c.a.createElement,m=function(){var t=Object(i.c)((function(t){return t.post})),e=t.imagePaths,n=t.addPostDone,c=Object(i.b)(),o=Object(f.a)(\"\"),m=Object(r.a)(o,3),b=m[0],h=m[1],v=m[2];Object(a.useEffect)((function(){n&&v(\"\")}),[n]);var w=Object(a.useCallback)((function(){if(!b||!b.trim())return alert(\"\\uac8c\\uc2dc\\uae00\\uc744 \\uc791\\uc131\\ud558\\uc138\\uc694.\");var t=new FormData;return e.forEach((function(e){t.append(\"image\",e)})),t.append(\"content\",b),c({type:d.e,data:t})}),[b,e]),g=Object(a.useRef)(),E=Object(a.useCallback)((function(){g.current.click()}),[g.current]),j=Object(a.useCallback)((function(t){console.log(t.target.files);var e=new FormData;[].forEach.call(t.target.files,(function(t){e.append(\"image\",t)})),c({type:d.G,data:e})})),y=Object(a.useCallback)((function(t){return function(){c({type:d.v,data:t})}}));return p(l.a,{style:{margin:\"10px 0 20px\"},encType:\"multipart/form-data\",onFinish:w},p(u.a.TextArea,{value:b,onChange:h,maxLength:140,placeholder:\"\\uc5b4\\ub5a4 \\uc2e0\\uae30\\ud55c\\uc77c\\uc774 \\uc788\\uc5c8\\ub098\\uc694?\"}),p(\"div\",null,p(\"input\",{type:\"file\",name:\"image\",multiple:!0,hidden:!0,ref:g,onChange:j}),p(s.a,{onClick:E},\"\\uc774\\ubbf8\\uc9c0 \\uc5c5\\ub85c\\ub4dc\"),p(s.a,{type:\"primary\",style:{float:\"right\"},htmlType:\"submit\"},\"\\uc9f9\\uc9f9\")),p(\"div\",null,e.map((function(t,e){return p(\"div\",{key:t,style:{display:\"inline-block\"}},p(\"img\",{src:\"http://localhost:3065/\".concat(t),style:{width:\"200px\"},alt:t}),p(\"div\",null,p(s.a,{onClick:y(e)},\"\\uc81c\\uac70\")))}))))},b=n(\"kduo\"),h=c.a.createElement,v=!0;e.default=function(){var t=Object(i.b)(),e=Object(i.c)((function(t){return t.user})).me,n=Object(i.c)((function(t){return t.post})),c=n.mainPosts,r=n.hasMorePosts,l=n.loadPostsLoading,u=n.retweetError;return Object(a.useEffect)((function(){u&&alert(u)}),[u]),Object(a.useEffect)((function(){function e(){if(window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&r&&!l){var e,n=null===(e=c[c.length-1])||void 0===e?void 0:e.id;t({type:d.n,lastId:n})}}return window.addEventListener(\"scroll\",e),function(){window.removeEventListener(\"scroll\",e)}}),[r,l,c]),h(o.a,null,e&&h(m,null),c.map((function(t){return h(b.a,{key:t.id,post:t})})))}},vlRD:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",0,2,6,8,1,3,4,5,7,9]]]);","extractedComments":[]}